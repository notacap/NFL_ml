# Data Loader Configuration
# Controls which data sources are included in dataset build
#
# Author: Claude Code
# Updated: 2024-12-13

# =============================================================================
# ACTIVE LOADERS
# =============================================================================

loaders:
  # Core dataset (built by build_dataset.py)
  # Includes: plyr_gm_rec, plyr_rec, plyr_gm_snap_ct, nfl_fastr_wr, player info
  base_dataset:
    enabled: true
    is_primary: true
    description: "Base WR receiving yards dataset with game/season stats"
    script: build_dataset.py

  # Team defense enrichment (runs after base dataset)
  team_defense:
    enabled: true
    is_primary: false
    description: "Opponent team defense stats for matchup context"
    script: enrich_with_team_defense.py
    loader_class: TeamDefenseLoader
    tables:
      - tm_szn/tm_def_plyr_agg

# =============================================================================
# PLANNED LOADERS (not yet implemented)
# =============================================================================

  weather:
    enabled: false
    is_primary: false
    description: "Game weather conditions"
    tables:
      - gm_info/nfl_gm_weather

  game_context:
    enabled: false
    is_primary: false
    description: "Game metadata - Vegas lines, primetime"
    tables:
      - gm_info/nfl_game_info

# =============================================================================
# Feature Configuration
# =============================================================================

features:
  # Columns excluded from base dataset
  global_exclude:
    - plyr_rec_aybc_route
    - plyr_rec_succ_rt
    - plyr_rec_yac_route
    - game_count

  # Sentinel value for imputed data
  imputation_sentinel: -999

# =============================================================================
# Validation Settings
# =============================================================================

validation:
  require_no_nulls_in_keys: true
  log_duplicate_warnings: true
  temporal_integrity_check: true
